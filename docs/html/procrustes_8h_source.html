<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.3.1"/>
<title>ICRC - Specle tracking: linalg/procrustes.h Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">ICRC - Specle tracking
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.3.1 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
    </ul>
  </div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_c1845e5bf011c2136883d0d7188f50e9.html">linalg</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">procrustes.h</div>  </div>
</div><!--header-->
<div class="contents">
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="preprocessor">#ifndef PROCRUSTES_H</span></div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="preprocessor"></span><span class="preprocessor">#define PROCRUSTES_H</span></div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="preprocessor">#include &lt;opencv2/opencv.hpp&gt;</span></div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="preprocessor">#include &lt;climits&gt;</span></div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="preprocessor">#include &lt;vector&gt;</span></div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;</div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="preprocessor">#include &quot;common.h&quot;</span></div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;</div>
<div class="line"><a name="l00013"></a><span class="lineno"><a class="code" href="struct_scale_and_rotate_coefs.html">   13</a></span>&#160;<span class="keyword">struct </span><a class="code" href="struct_scale_and_rotate_coefs.html" title="The ScaleAndRotateCoefs struct.">ScaleAndRotateCoefs</a></div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;{</div>
<div class="line"><a name="l00018"></a><span class="lineno"><a class="code" href="struct_scale_and_rotate_coefs.html#ae20152c8c87343a3069161c96247a4b8">   18</a></span>&#160;    <a class="code" href="struct_scale_and_rotate_coefs.html#ae20152c8c87343a3069161c96247a4b8" title="ScaleAndRotateCoefs default constructor. Initializes scale to 1 and rotation to 0.">ScaleAndRotateCoefs</a>()</div>
<div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;    {</div>
<div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;        <a class="code" href="struct_scale_and_rotate_coefs.html#a4ee319b11db4e45e1380ee93b418f985" title="Scale.">s</a> = 1;</div>
<div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;        <a class="code" href="struct_scale_and_rotate_coefs.html#a00abad094ee54da47ebc005eb55d745c" title="Rotation.">theta</a> = 0;</div>
<div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;    }</div>
<div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;</div>
<div class="line"><a name="l00029"></a><span class="lineno"><a class="code" href="struct_scale_and_rotate_coefs.html#ac426b4c151bc9f0693c6ef9373087d2c">   29</a></span>&#160;    <a class="code" href="struct_scale_and_rotate_coefs.html#ac426b4c151bc9f0693c6ef9373087d2c" title="ScaleAndRotateCoefs constructor.">ScaleAndRotateCoefs</a>(<span class="keywordtype">float</span> <a class="code" href="struct_scale_and_rotate_coefs.html#a4ee319b11db4e45e1380ee93b418f985" title="Scale.">s</a>, <span class="keywordtype">float</span> <a class="code" href="struct_scale_and_rotate_coefs.html#a00abad094ee54da47ebc005eb55d745c" title="Rotation.">theta</a>) : s(s), theta(theta) {}</div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;</div>
<div class="line"><a name="l00035"></a><span class="lineno"><a class="code" href="struct_scale_and_rotate_coefs.html#a907188d3170cc7f1e1a5cdf96c0a1f02">   35</a></span>&#160;    <a class="code" href="struct_scale_and_rotate_coefs.html" title="The ScaleAndRotateCoefs struct.">ScaleAndRotateCoefs</a> <a class="code" href="struct_scale_and_rotate_coefs.html#a907188d3170cc7f1e1a5cdf96c0a1f02" title="Calculates inverse transform.">inv</a>()</div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;    {</div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="struct_scale_and_rotate_coefs.html#ae20152c8c87343a3069161c96247a4b8" title="ScaleAndRotateCoefs default constructor. Initializes scale to 1 and rotation to 0.">ScaleAndRotateCoefs</a>(1/<a class="code" href="struct_scale_and_rotate_coefs.html#a4ee319b11db4e45e1380ee93b418f985" title="Scale.">s</a>, -<a class="code" href="struct_scale_and_rotate_coefs.html#a00abad094ee54da47ebc005eb55d745c" title="Rotation.">theta</a>);</div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;    }</div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;</div>
<div class="line"><a name="l00043"></a><span class="lineno"><a class="code" href="struct_scale_and_rotate_coefs.html#a4ee319b11db4e45e1380ee93b418f985">   43</a></span>&#160;    <span class="keywordtype">float</span> <a class="code" href="struct_scale_and_rotate_coefs.html#a4ee319b11db4e45e1380ee93b418f985" title="Scale.">s</a>;</div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;</div>
<div class="line"><a name="l00048"></a><span class="lineno"><a class="code" href="struct_scale_and_rotate_coefs.html#a00abad094ee54da47ebc005eb55d745c">   48</a></span>&#160;    <span class="keywordtype">float</span> <a class="code" href="struct_scale_and_rotate_coefs.html#a00abad094ee54da47ebc005eb55d745c" title="Rotation.">theta</a>;</div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;};</div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;</div>
<div class="line"><a name="l00054"></a><span class="lineno"><a class="code" href="struct_translation_coefs.html">   54</a></span>&#160;<span class="keyword">struct </span><a class="code" href="struct_translation_coefs.html" title="The TranslationCoefs struct.">TranslationCoefs</a></div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;{</div>
<div class="line"><a name="l00059"></a><span class="lineno"><a class="code" href="struct_translation_coefs.html#aabd4ee36cd76673d6f5ed39198fab9a0">   59</a></span>&#160;    <a class="code" href="struct_translation_coefs.html#aabd4ee36cd76673d6f5ed39198fab9a0" title="TranslationCoefs default constructor. Initializes to zero translation.">TranslationCoefs</a>()</div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;    {</div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;        <a class="code" href="struct_translation_coefs.html#a9fa4381b593917c6cf64592e576e56b3" title="x-axis shift">xt</a> = 0.0;</div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;        <a class="code" href="struct_translation_coefs.html#ab5336680b3f50f30ec76befadd20c155" title="y-axis shift">yt</a> = 0.0;</div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;    }</div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;</div>
<div class="line"><a name="l00070"></a><span class="lineno"><a class="code" href="struct_translation_coefs.html#a3a7db4a64499214aa671fca326d19503">   70</a></span>&#160;    <a class="code" href="struct_translation_coefs.html#a3a7db4a64499214aa671fca326d19503" title="TranslationCoefs constructor.">TranslationCoefs</a>(<span class="keywordtype">float</span> <a class="code" href="struct_translation_coefs.html#a9fa4381b593917c6cf64592e576e56b3" title="x-axis shift">xt</a>, <span class="keywordtype">float</span> <a class="code" href="struct_translation_coefs.html#ab5336680b3f50f30ec76befadd20c155" title="y-axis shift">yt</a>) : xt(xt), yt(yt) {}</div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;</div>
<div class="line"><a name="l00076"></a><span class="lineno"><a class="code" href="struct_translation_coefs.html#a608ae14aec63b4b5e99ea6fd58be3d3d">   76</a></span>&#160;    <a class="code" href="struct_translation_coefs.html" title="The TranslationCoefs struct.">TranslationCoefs</a> <a class="code" href="struct_translation_coefs.html#a608ae14aec63b4b5e99ea6fd58be3d3d" title="Calculates inverse transform.">inv</a>()</div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;    {</div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="struct_translation_coefs.html#aabd4ee36cd76673d6f5ed39198fab9a0" title="TranslationCoefs default constructor. Initializes to zero translation.">TranslationCoefs</a>(-<a class="code" href="struct_translation_coefs.html#a9fa4381b593917c6cf64592e576e56b3" title="x-axis shift">xt</a>, -<a class="code" href="struct_translation_coefs.html#ab5336680b3f50f30ec76befadd20c155" title="y-axis shift">yt</a>);</div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;    }</div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;</div>
<div class="line"><a name="l00084"></a><span class="lineno"><a class="code" href="struct_translation_coefs.html#a9fa4381b593917c6cf64592e576e56b3">   84</a></span>&#160;    <span class="keywordtype">float</span> <a class="code" href="struct_translation_coefs.html#a9fa4381b593917c6cf64592e576e56b3" title="x-axis shift">xt</a>;</div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;</div>
<div class="line"><a name="l00089"></a><span class="lineno"><a class="code" href="struct_translation_coefs.html#ab5336680b3f50f30ec76befadd20c155">   89</a></span>&#160;    <span class="keywordtype">float</span> <a class="code" href="struct_translation_coefs.html#ab5336680b3f50f30ec76befadd20c155" title="y-axis shift">yt</a>;</div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;};</div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;</div>
<div class="line"><a name="l00095"></a><span class="lineno"><a class="code" href="struct_transformation_coefs.html">   95</a></span>&#160;<span class="keyword">struct </span><a class="code" href="struct_transformation_coefs.html" title="Struct represents general linear 2D transformation (scale,rotation,shear)">TransformationCoefs</a></div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;{</div>
<div class="line"><a name="l00100"></a><span class="lineno"><a class="code" href="struct_transformation_coefs.html#a3b952afe361c3d11119b52b1aefea899">  100</a></span>&#160;    <a class="code" href="struct_transformation_coefs.html#a3b952afe361c3d11119b52b1aefea899" title="Default constructor initializes to empty transform.">TransformationCoefs</a>()</div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;    {</div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;        a = 1;</div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;        b = 0;</div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;    }</div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;</div>
<div class="line"><a name="l00111"></a><span class="lineno"><a class="code" href="struct_transformation_coefs.html#aabc0c9563ed3f762e8c8a13e3ea5f83c">  111</a></span>&#160;    <a class="code" href="struct_transformation_coefs.html#aabc0c9563ed3f762e8c8a13e3ea5f83c" title="Constructor.">TransformationCoefs</a>(<span class="keywordtype">float</span> a, <span class="keywordtype">float</span> b) : a(a), b(b) {}</div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;</div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;    <span class="keywordtype">float</span> a;</div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;    <span class="keywordtype">float</span> b;</div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;};</div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;</div>
<div class="line"><a name="l00120"></a><span class="lineno"><a class="code" href="class_procrustes.html">  120</a></span>&#160;<span class="keyword">class </span><a class="code" href="class_procrustes.html" title="The Procrustes class provides methods for 2D transofrmation and calculation of procrustes analysis...">Procrustes</a></div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;{</div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;<span class="keyword">public</span>:</div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;</div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;    <span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="class_procrustes.html#a4fe8b2b9896022a178a878f5598654f9" title="Procrustes analysis of input 2D shapes represented as column vectors.">procrustesAnalysis</a>(std::vector&lt;MatF&gt; &amp;vectors, <span class="keywordtype">bool</span> scale = <span class="keyword">true</span>,</div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;                                   <span class="keywordtype">float</span> eps = 0, <span class="keywordtype">int</span> maxIterations = INT_MAX);</div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;</div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;    <span class="keyword">static</span> <span class="keywordtype">float</span> <a class="code" href="class_procrustes.html#a8ad18872ee8fc63d70e0c1a08564dc5e" title="Calculates optimal rotation from one shape to another.">getOptimalRotation</a>(<span class="keyword">const</span> MatF &amp;from, <span class="keyword">const</span> MatF &amp;to);</div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;</div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;    <span class="keyword">static</span> <a class="code" href="struct_scale_and_rotate_coefs.html" title="The ScaleAndRotateCoefs struct.">ScaleAndRotateCoefs</a> <a class="code" href="class_procrustes.html#ac69ee8295dff95b38754a33133f1e4e5" title="Calculates optimal scale and rotation from one shape to another.">align</a>(<span class="keyword">const</span> MatF &amp;from, <span class="keyword">const</span> MatF &amp;to);</div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;</div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;    <span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="class_procrustes.html#af156953fe2fe12a3ca1b0f8d0916dc65" title="Rotate and scale given shape.">rotateAndScale</a>(MatF &amp;vector, <span class="keyword">const</span> <a class="code" href="struct_scale_and_rotate_coefs.html" title="The ScaleAndRotateCoefs struct.">ScaleAndRotateCoefs</a> &amp;coefs);</div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;</div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;    <span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="class_procrustes.html#a38889896bfe578eec9f65921004e92ee" title="Transformate given shape.">transformate</a>(MatF &amp;vector, <span class="keyword">const</span> <a class="code" href="struct_transformation_coefs.html" title="Struct represents general linear 2D transformation (scale,rotation,shear)">TransformationCoefs</a> &amp;coefs);</div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;</div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;    <span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="class_procrustes.html#af9033e27bd9fe09df3d67e5390e178b3" title="Translate (move) given shape.">translate</a>(MatF &amp;vector, <span class="keyword">const</span> <a class="code" href="struct_translation_coefs.html" title="The TranslationCoefs struct.">TranslationCoefs</a> &amp;coefs);</div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;</div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;</div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;    <span class="keyword">static</span> <a class="code" href="struct_translation_coefs.html" title="The TranslationCoefs struct.">TranslationCoefs</a> <a class="code" href="class_procrustes.html#a73dd4ffa9ce97f03bec9531dbc1cbf27" title="Calculates translation that moves the shape such its centroid will be in the center of coordinates...">centralizedTranslation</a>(<span class="keyword">const</span> MatF &amp;vector);</div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;</div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;    <span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="class_procrustes.html#af92e7f369fa8bc1f1917825c084ee8ef" title="Centralizes given shape.">centralize</a>(MatF &amp;vector);</div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;</div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;    <span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="class_procrustes.html#af92e7f369fa8bc1f1917825c084ee8ef" title="Centralizes given shape.">centralize</a>(std::vector&lt;MatF&gt; &amp;vectors);</div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;</div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;    <span class="keyword">static</span> MatF <a class="code" href="class_procrustes.html#aacb0104c40cfccf2ff2bb3c4b32f1094" title="Calculates mean of given shapes.">getMeanShape</a>(<span class="keyword">const</span> std::vector&lt;MatF&gt; &amp;vectors);</div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;};</div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;</div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;<span class="preprocessor">#endif // PROCRUSTES_H</span></div>
</div><!-- fragment --></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Tue Feb 26 2013 19:42:13 for ICRC - Specle tracking by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.3.1
</small></address>
</body>
</html>
